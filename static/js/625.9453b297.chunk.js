"use strict";(self.webpackChunkreact_way_samurai=self.webpackChunkreact_way_samurai||[]).push([[625],{4655:function(n,e,r){r.r(e),r.d(e,{default:function(){return D}});var t=r(5671),o=r(3144),u=r(136),i=r(2882),s=r(8687),a=r(8808),c=r(2791),l=r(885),f="Paginate_paginator__Yg++E",p="Paginate_pageNumber__-tBay",g="Paginate_selectedPage__oSeWq",h=r(184),d=function(n){for(var e=n.currentPage,r=n.totalUsersCount,t=n.pageSize,o=n.portionSize,u=void 0===o?10:o,i=n.onSetCurrentPage,s=(0,c.useState)(1),a=(0,l.Z)(s,2),d=a[0],v=a[1],y=Math.ceil(r/t),P=Math.ceil(y/u),w=(d-1)*u+1,j=d*u,m=[],x=1;x<=y;x++)m.push(x);return(0,h.jsxs)(h.Fragment,{children:[d<w&&(0,h.jsx)("button",{className:f,onClick:function(){return v(d-1)},children:"prevPage"}),m.filter((function(n){return n>=w&&n<=j})).map((function(n){return(0,h.jsx)("span",{className:"".concat(e===n?g:""," ").concat(p),onClick:function(){return i(n)},children:" "+n},n)})),d<P&&(0,h.jsx)("button",{className:f,onClick:function(){return v(d+1)},children:"nextPage"})]})},v=r(3504),y=r.p+"static/media/user.9dc92b0a1003b149f6c9.png",P="Users_userPhoto__D-xGj",w=function(n){var e=n.user,r=n.followingInProgress,t=n.onUnfollow,o=n.onFollow;return(0,h.jsxs)("div",{children:[(0,h.jsxs)("span",{children:[(0,h.jsx)("div",{children:(0,h.jsx)(v.rU,{to:"/profile/"+e.id,children:(0,h.jsx)("img",{className:P,src:e.photoUrl?e.photoUrl:y,alt:"ava"})})}),(0,h.jsx)("div",{children:e.followed?(0,h.jsx)("button",{disabled:r.some((function(n){return n===e.id})),onClick:function(){return t(e.id)},children:"Unfollow"}):(0,h.jsx)("button",{disabled:r.some((function(n){return n===e.id})),onClick:function(){return o(e.id)},children:"Follow"})})]}),(0,h.jsxs)("span",{children:[(0,h.jsxs)("span",{children:[(0,h.jsx)("div",{children:e.name}),(0,h.jsx)("div",{children:e.status})]}),(0,h.jsxs)("span",{children:[(0,h.jsx)("div",{children:"user.location.country"}),(0,h.jsx)("div",{children:"user.location.city"})]})]})]})},j=function(n){var e=n.totalUsersCount,r=n.currentPage,t=n.pageSize,o=n.users,u=n.onFollow,i=n.onUnfollow,s=n.onSetCurrentPage,a=n.followingInProgress;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d,{portionSize:10,currentPage:r,totalUsersCount:e,pageSize:t,onSetCurrentPage:s}),o.map((function(n){return(0,h.jsx)(w,{user:n,followingInProgress:a,onFollow:u,onUnfollow:i},n.id)}))]})},m=r(825),x=r(7781),C="NOT_FOUND";var S=function(n,e){return n===e};function U(n,e){var r="object"===typeof e?e:{equalityCheck:e},t=r.equalityCheck,o=void 0===t?S:t,u=r.maxSize,i=void 0===u?1:u,s=r.resultEqualityCheck,a=function(n){return function(e,r){if(null===e||null===r||e.length!==r.length)return!1;for(var t=e.length,o=0;o<t;o++)if(!n(e[o],r[o]))return!1;return!0}}(o),c=1===i?function(n){var e;return{get:function(r){return e&&n(e.key,r)?e.value:C},put:function(n,r){e={key:n,value:r}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}(a):function(n,e){var r=[];function t(n){var t=r.findIndex((function(r){return e(n,r.key)}));if(t>-1){var o=r[t];return t>0&&(r.splice(t,1),r.unshift(o)),o.value}return C}return{get:t,put:function(e,o){t(e)===C&&(r.unshift({key:e,value:o}),r.length>n&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(i,a);function l(){var e=c.get(arguments);if(e===C){if(e=n.apply(null,arguments),s){var r=c.getEntries(),t=r.find((function(n){return s(n.value,e)}));t&&(e=t.value)}c.put(arguments,e)}return e}return l.clearCache=function(){return c.clear()},l}function k(n){var e=Array.isArray(n[0])?n[0]:n;if(!e.every((function(n){return"function"===typeof n}))){var r=e.map((function(n){return"function"===typeof n?"function "+(n.name||"unnamed")+"()":typeof n})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return e}function b(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),t=1;t<e;t++)r[t-1]=arguments[t];var o=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var u,i=0,s={memoizeOptions:void 0},a=t.pop();if("object"===typeof a&&(s=a,a=t.pop()),"function"!==typeof a)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof a+"]");var c=s,l=c.memoizeOptions,f=void 0===l?r:l,p=Array.isArray(f)?f:[f],g=k(t),h=n.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(p)),d=n((function(){for(var n=[],e=g.length,r=0;r<e;r++)n.push(g[r].apply(null,arguments));return u=h.apply(null,n)}));return Object.assign(d,{resultFunc:a,memoizedResultFunc:h,dependencies:g,lastResult:function(){return u},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),d};return o}var _=b(U),z=_((function(n){return n.usersPage.users}),(function(n){return n.filter((function(n){return!0}))})),F=function(n){return n.usersPage.currentPage},q=function(n){return n.usersPage.pageSize},I=function(n){return n.usersPage.totalUsersCount},N=function(n){return n.usersPage.isFetching},A=function(n){return n.usersPage.followingInProgress},E=function(n){(0,u.Z)(r,n);var e=(0,i.Z)(r);function r(){var n;(0,t.Z)(this,r);for(var o=arguments.length,u=new Array(o),i=0;i<o;i++)u[i]=arguments[i];return(n=e.call.apply(e,[this].concat(u))).setCurrentPage=function(e){n.props.setCurrentPage(e),n.props.requestUsers(n.props.pageSize,e)},n}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.pageSize,this.props.currentPage)}},{key:"render",value:function(){return(0,h.jsxs)(h.Fragment,{children:[this.props.isFetching?(0,h.jsx)(m.Z,{}):null,(0,h.jsx)(j,{onSetCurrentPage:this.setCurrentPage,onUnfollow:this.props.unfollow,onFollow:this.props.follow,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,followingInProgress:this.props.followingInProgress})]})}}]),r}(c.Component),Z={follow:a.ZN,unfollow:a.fv,setCurrentPage:a.D4,requestUsers:a.D7},D=(0,x.qC)((0,s.$j)((function(n){return{users:z(n),currentPage:F(n),pageSize:q(n),totalUsersCount:I(n),isFetching:N(n),followingInProgress:A(n)}}),Z))(E)}}]);
//# sourceMappingURL=625.9453b297.chunk.js.map