"use strict";(self.webpackChunkreact_way_samurai=self.webpackChunkreact_way_samurai||[]).push([[899],{3899:function(t,e,r){r.r(e),r.d(e,{default:function(){return D}});var s=r(8683),n=r(5671),i=r(3144),o=r(136),u=r(2882),a=r(2791),c=r(8687),l=r(6871),f=r(7781),d=r(6407),p=r(2982),h=r(6139),v=r(704),x=r(4193),j=r(4702),m="MyPosts_postsBlock__kOha-",g="MyPosts_posts__3ahRb",_="Post_item__3Q4xH",Z=r(184),P=function(t){var e=t.message,r=t.likesCount;return(0,Z.jsxs)("div",{className:_,children:[(0,Z.jsx)("img",{src:"https://www.buro247.ua/images/2017/09/neytiri-avatar-5824.jpg",alt:"ava"}),e,(0,Z.jsxs)("div",{children:[(0,Z.jsx)("span",{children:"likes"})," ",r]})]})},C=(0,x.D)(20),k=function(t){var e=t.posts,r=t.onCreateNewPost,s=(0,p.Z)(e).reverse().map((function(t){return(0,Z.jsx)(P,{message:t.message,likesCount:t.likesCount},t.id)}));return(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsx)("h3",{children:"My Posts"}),(0,Z.jsx)("div",{children:(0,Z.jsx)(S,{onSubmit:function(t){r(t.newPostText)}})}),(0,Z.jsx)("div",{className:g,children:s})]})},S=(0,v.Z)({form:"ProfileNewPostText"})((function(t){var e=t.handleSubmit;return(0,Z.jsxs)("form",{onSubmit:e,children:[(0,Z.jsx)("div",{children:(0,Z.jsx)(h.Z,{component:j.g,name:"newPostText",placeholder:"new post text...",validate:[x.C,C]})}),(0,Z.jsx)("div",{children:(0,Z.jsx)("button",{children:"Add post"})})]})})),w=(0,c.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{onCreateNewPost:function(e){t((0,d.Pi)(e))}}}))(k),U=r(825),y="ProfileInfo_descriptionBlock__hOZyL",b=r(885),N=function(t){var e=t.propsStatus,r=t.setUserStatus,s=(0,a.useState)(!1),n=(0,b.Z)(s,2),i=n[0],o=n[1],u=(0,a.useState)(e),c=(0,b.Z)(u,2),l=c[0],f=c[1];(0,a.useEffect)((function(){f(e)}),[e]);return(0,Z.jsx)("div",{children:i?(0,Z.jsx)("div",{children:(0,Z.jsx)("input",{autoFocus:!0,onBlur:function(t){var e=t.target;o(!1),r(e.value)},type:"text",value:l,onChange:function(t){var e=t.target;f(e.value)}})}):(0,Z.jsx)("div",{children:(0,Z.jsx)("span",{onDoubleClick:function(){o(!0)},children:e})})})},T=function(t){var e=t.profile,r=t.status,s=t.setUserStatus;return e?(0,Z.jsx)("div",{children:(0,Z.jsxs)("div",{className:y,children:[(0,Z.jsx)("img",{src:e.photos.large,alt:"ava"}),(0,Z.jsx)(N,{propsStatus:r,setUserStatus:s})]})}):(0,Z.jsx)(U.Z,{})},I=function(t){var e=t.profile,r=t.status,s=t.setUserStatus;return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(T,{profile:e,status:r,setUserStatus:s}),(0,Z.jsx)(w,{})]})},M=function(t){(0,o.Z)(r,t);var e=(0,u.Z)(r);function r(){return(0,n.Z)(this,r),e.apply(this,arguments)}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){var t=this.props.router.params.userId;t||(t=2),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return(0,Z.jsx)(I,(0,s.Z)((0,s.Z)({},this.props),{},{profile:this.props.profile}))}}]),r}(a.Component),q={getUserProfile:d.et,setUserStatus:d.ij,getUserStatus:d.Tq},D=(0,f.qC)((function(t){return function(e){var r=(0,l.TH)(),n=(0,l.s0)(),i=(0,l.UO)();return(0,Z.jsx)(t,(0,s.Z)((0,s.Z)({},e),{},{router:{location:r,navigate:n,params:i}}))}}),(0,c.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,isAuth:t.auth.isAuth,authorizedUserId:t.auth.userId}}),q))(M)},4702:function(t,e,r){r.d(e,{I:function(){return f},g:function(){return l}});var s=r(8683),n=r(5987),i=(r(2791),"FormsControl_formControl__1qHzT"),o="FormsControl_error__Rkvhi",u=r(184),a=["input","meta"],c=function(t){return function(e){var r=e.input,c=e.meta,l=(0,n.Z)(e,a),f=c.touched&&c.error;return(0,u.jsxs)("div",{className:i+" "+(f?o:""),children:[(0,u.jsx)("div",{children:(0,u.jsx)(t,(0,s.Z)((0,s.Z)({},r),l))}),(0,u.jsx)("div",{children:f&&(0,u.jsxs)("span",{children:[" ",c.error," "]})})]})}},l=c("textarea"),f=c("input")},4193:function(t,e,r){r.d(e,{C:function(){return s},D:function(){return n}});var s=function(t){if(!t)return"Field is required"},n=function(t){return function(e){if(e.length>t)return"Max length is ".concat(t)}}}}]);
//# sourceMappingURL=899.5d2c0390.chunk.js.map